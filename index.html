<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>PWA in 2021</title>

    <meta name="description" content="A demo of what we can do with PWAs in 2021">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="manifest" href="manifest.webmanifest">

    <link rel="icon" sizes="192x192" href="/images/icon-192.png">

    <meta name="theme-color" content="#D33257">
    <meta property="og:title" content="PWA in 2021">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://pwain2021.netlify.app/images/icon-192.png">
    <meta property="og:url" content="https://pwain2021.netlify.app/">
    <meta property="og:description" content="A demo of what we can do with PWAs in 2021">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/reset.css">
    <link rel="stylesheet" href="styles/main.css">
  </head>
  <body>

    <div class="container">
      <header>
        <h1>PWA in 2021</h1>
        <p>A demo of various web capabilities available in 2021.</p>
      </header>

      <main>
        <details id="feat-install">
          <summary>Install</summary>
          <p>Install this website as a mobile/desktop application.</p>

          <button id="install" hidden>Install</button>
        </details>

        <details id="feat-notifications">
          <summary>Push Notifications</summary>
          <p>Request permission for and send a push notification to the device.</p>

          <button id="notification-permission" hidden>Request permission</button>
          <button id="notification-send" hidden>Send notification</button>
        </details>

        <details id="feat-app-badge">
          <summary>App Badge</summary>
          <p>Set the application badge icon.</p>

          <button id="set-app-badge" hidden>Set app badge</button>
          <button id="clear-app-badge" hidden>Clear app badge</button>
        </details>

        <details id="feat-background-fetch">
          <summary>Background Fetch</summary>
          <p>Set a long-running fetch task to operate in the background.</p>
          <button id="background-fetch" hidden>Start a background fetch</button>
          <p id="background-fetch-progress"></p>
        </details>

        <details id="feat-contact-picker">
          <summary>Contact picker</summary>
          <p>Read contacts.</p>
          <button id="get-contacts" hidden>Get contacts</button>
          <div id="sample-contact"></div>
        </details>

        <details id="feat-web-share">
          <summary>Web Share</summary>
          <p>Share data between applications.</p>

          <button id="web-share" hidden>Share a link</button>
        </details>

        <details id="feat-file-system-access" open>
          <summary>File System Access</summary>
          <p>Read from and write to local files.</p>

          <button id="open-file" hidden>Open file</button>
          <textarea id="file-editor" name="" cols="30" rows="10" hidden></textarea>
          <button id="save-file" hidden>Save file</button>
        </details>
      </main>

      <footer>
        <a href="https://github.com/ireade/pwain2021">Source</a>
      </footer>
  </div>

    <script>
      if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js', { scope: '/' }).then((registration) => {
          console.log('Service Worker Registered');
        });
      }
    </script>

    <script src="scripts/install.js"></script>
    <script src="scripts/notifications.js"></script>
    <script src="scripts/app-badge.js"></script>
    <script src="scripts/background-fetch.js"></script>
    <script src="scripts/contact-picker.js"></script>
    <script src="scripts/web-share.js"></script>
    <script src="scripts/file-system-access.js"></script>

  </body>
</html>
